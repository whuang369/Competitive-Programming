# 相似的回忆

## 限制

时间限制：$1\texttt{s}$。

空间限制：$256\texttt{MB}$。

## 问题描述

小 D 和小 Y 是一起长大的好朋友。在他们的童年里，有许多相似的回忆。现在，小 D 和小 Y 已不再年轻，他们回想起过去的时光，希望你能帮他们找出这些相似的回忆。

我们把一个人的回忆，看做一个字符串 $S[1\dots |S|]$，其中 $|S|$ 表示字符串的长度，$S[i]$ ($1\leq i\leq |S|$) 表示字符串第 $i$ 位上的字符。

对于两段回忆 $S[1\dots |S|],T[1\dots |T|]$，我们认为它们是**相似**的，当且仅当满足如下两个条件：

- $|S| = |T|$。
- 对于所有二元组 $(i,j)$ ($1\leq i\leq j\leq |S|$)，若 $S[i] = S[j]$，则 $T[i] = T[j]$；若 $S[i]\neq S[j]$，则 $T[i]\neq T[j]$。

现在，小 D 把他的所有回忆 $a[1\dots |a|]$ 告诉了你，而小 Y 则给了你一个回忆片段 $b[1\dots |b|]$。保证 $|a|\geq |b|$。请你求出，$a$ 中有多少**子串**与 $b$ 是相似的。

我们称一个串是另一个串的子串，当且仅当前者能通过从后者的开头、结尾各删除若干字符（可以为 $0$，即不删）得到。

另外，由于小 D 和小 Y 的回忆非常丰富，不足以用有限的英文字母表示出来，所以我们用数字来表示这些串。每个数字代表串的一位。数字间用空格隔开。

## 输入格式

第一行读入两个正整数 $|a|,|b|$，分别表示小 D 的回忆、小 Y 的回忆片段的大小。保证 $|a|\geq |b|$。

第二行读入 $|a|$ 个正整数，分别表示 $a[1]\dots a[|a|]$。

第三行读入 $|b|$ 个正整数，分别表示 $b[1]\dots b[|b|]$。

## 输出格式

输出一行一个非负整数，表示 $a$ 中有多少子串与 $b$ 是相似的。

## 样例

#### 样例输入1

```plain
6 3
1 2 1 2 3 2
3 1 3
```

#### 样例输出1

```plain
3
```

#### 样例解释1

用 $S[l,r]$ 表示串 $S$ 里由 $l$ 到 $r$ 之间的字符构成的子串。

$a[1,3]$，$a[2,4]$，$a[4,6]$ 这 $3$ 个子串，与 $b$ 是相似的。

#### 样例输入2

```plain
6 3
114 514 114 514 114 514
233 666 233
```

#### 样例输出2

```plain
4
```

#### 样例解释2

$a[1,3]$，$a[2,4]$，$a[3,5]$，$a[4,6]$ 这 $4$ 个子串，与 $b$ 是相似的。

#### 样例输入3

见下发文件中的 $\text{mem3.in}$。

#### 样例输出4

见下发文件中的 $\text{mem3.ans}$。

## 数据范围

设 $m = \max\{\max_{1\leq i\leq |a|}\{a[i]\},\max_{1\leq i\leq |b|}\{b[i]\}\}$，即“字符集”的大小。

对于所有数据，$1\leq |b|\leq |a|\leq 3\times 10^5$，$1\leq m\leq 10^9$，所有 $a[i],b[i]$ 是正整数。

本题共 $7$ 个子任务（$\text{subtask}$）。对于每个子任务，有如下具体限制：
$$
\begin{array}{|c|c|}
\hline \text{子任务编号} & \text{分值} & m\leq& |a|\leq & |b|\leq \\
\hline 1 & 20 & 10^9 & 200 & 200\\
\hline 2 & 10 & 2 & 1000 & 1000\\
\hline 3 & 10 & 7 & 1000 & 1000\\
\hline 4 & 10 & 1000 & 1000 & 1000\\
\hline 5 & 10 & 10^9 & 1000 & 1000 \\
\hline 6 & 10 & 10^5 & 10^5 & 10^5 \\
\hline 7 & 30 & 10^9 & 3\times 10^5 & 3\times 10^5\\
\hline
\end{array}
$$



